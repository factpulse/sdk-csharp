// <auto-generated>
/*
 * FactPulse REST API
 *
 *  REST API for electronic invoicing in France: Factur-X, AFNOR PDP/PA, electronic signatures.  ## üéØ Main Features  ### üìÑ Factur-X Invoice Generation - **Formats**: XML only or PDF/A-3 with embedded XML - **Profiles**: MINIMUM, BASIC, EN16931, EXTENDED - **Standards**: EN 16931 (EU directive 2014/55), ISO 19005-3 (PDF/A-3), CII (UN/CEFACT) - **üÜï Simplified Format**: Generation from SIRET + auto-enrichment (Chorus Pro API + Business Search)  ### ‚úÖ Validation and Compliance - **XML Validation**: Schematron (45 to 210+ rules depending on profile) - **PDF Validation**: PDF/A-3, Factur-X XMP metadata, electronic signatures - **VeraPDF**: Strict PDF/A validation (146+ ISO 19005-3 rules) - **Asynchronous Processing**: Celery support for heavy validations (VeraPDF)  ### üì° AFNOR PDP/PA Integration (XP Z12-013) - **Flow Submission**: Send invoices to Partner Dematerialization Platforms - **Flow Search**: View submitted invoices - **Download**: Retrieve PDF/A-3 with XML - **Directory Service**: Company search (SIREN/SIRET) - **Multi-client**: Support for multiple PDP configs per user (stored credentials or zero-storage)  ### ‚úçÔ∏è PDF Electronic Signature - **Standards**: PAdES-B-B, PAdES-B-T (RFC 3161 timestamping), PAdES-B-LT (long-term archival) - **eIDAS Levels**: SES (self-signed), AdES (commercial CA), QES (QTSP) - **Validation**: Cryptographic integrity and certificate verification - **Certificate Generation**: Self-signed X.509 certificates for testing  ### üîÑ Asynchronous Processing - **Celery**: Asynchronous generation, validation and signing - **Polling**: Status tracking via `/tasks/{task_id}/status` - **No timeout**: Ideal for large files or heavy validations  ## üîí Authentication  All requests require a **JWT token** in the Authorization header: ``` Authorization: Bearer YOUR_JWT_TOKEN ```  ### How to obtain a JWT token?  #### üîë Method 1: `/api/token/` API (Recommended)  **URL:** `https://factpulse.fr/api/token/`  This method is **recommended** for integration in your applications and CI/CD workflows.  **Prerequisites:** Having set a password on your account  **For users registered via email/password:** - You already have a password, use it directly  **For users registered via OAuth (Google/GitHub):** - You must first set a password at: https://factpulse.fr/accounts/password/set/ - Once the password is created, you can use the API  **Request example:** ```bash curl -X POST https://factpulse.fr/api/token/ \\   -H \"Content-Type: application/json\" \\   -d '{     \"username\": \"your_email@example.com\",     \"password\": \"your_password\"   }' ```  **Optional `client_uid` parameter:**  To select credentials for a specific client (PA/PDP, Chorus Pro, signing certificates), add `client_uid`:  ```bash curl -X POST https://factpulse.fr/api/token/ \\   -H \"Content-Type: application/json\" \\   -d '{     \"username\": \"your_email@example.com\",     \"password\": \"your_password\",     \"client_uid\": \"550e8400-e29b-41d4-a716-446655440000\"   }' ```  The `client_uid` will be included in the JWT and allow the API to automatically use: - AFNOR/PDP credentials configured for this client - Chorus Pro credentials configured for this client - Electronic signature certificates configured for this client  **Response:** ```json {   \"access\": \"eyJ0eXAiOiJKV1QiLCJhbGc...\",  // Access token (validity: 30 min)   \"refresh\": \"eyJ0eXAiOiJKV1QiLCJhbGc...\"  // Refresh token (validity: 7 days) } ```  **Advantages:** - ‚úÖ Full automation (CI/CD, scripts) - ‚úÖ Programmatic token management - ‚úÖ Refresh token support for automatic access renewal - ‚úÖ Easy integration in any language/tool  #### üñ•Ô∏è Method 2: Dashboard Generation (Alternative)  **URL:** https://factpulse.fr/api/dashboard/  This method is suitable for quick tests or occasional use via the graphical interface.  **How it works:** - Log in to the dashboard - Use the \"Generate Test Token\" or \"Generate Production Token\" buttons - Works for **all** users (OAuth and email/password), without requiring a password  **Token types:** - **Test Token**: 24h validity, 1000 calls/day quota (free) - **Production Token**: 7 days validity, quota based on your plan  **Advantages:** - ‚úÖ Quick for API testing - ‚úÖ No password required - ‚úÖ Simple visual interface  **Disadvantages:** - ‚ùå Requires manual action - ‚ùå No refresh token - ‚ùå Less suited for automation  ### üìö Full Documentation  For more information on authentication and API usage: https://factpulse.fr/documentation-api/     
 *
 * The version of the OpenAPI document: 1.0.0
 * Contact: contact@factpulse.fr
 * Generated by: https://github.com/openapitools/openapi-generator.git
 */

#nullable enable

using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.IO;
using System.Text;
using System.Text.RegularExpressions;
using System.Text.Json;
using System.Text.Json.Serialization;
using System.ComponentModel.DataAnnotations;
using FactPulse.SDK.Client;

namespace FactPulse.SDK.Model
{
    /// <summary>
    /// ISO 4217 currency codes.  Most common currencies used in e-reporting and invoicing. This is not an exhaustive list but covers all practical use cases for French e-reporting (EUR zone + major trading partners).
    /// </summary>
    /// <value>ISO 4217 currency codes.  Most common currencies used in e-reporting and invoicing. This is not an exhaustive list but covers all practical use cases for French e-reporting (EUR zone + major trading partners).</value>
    public enum CurrencyCode
    {
        /// <summary>
        /// Enum EUR for value: EUR
        /// </summary>
        EUR = 1,

        /// <summary>
        /// Enum USD for value: USD
        /// </summary>
        USD = 2,

        /// <summary>
        /// Enum GBP for value: GBP
        /// </summary>
        GBP = 3,

        /// <summary>
        /// Enum JPY for value: JPY
        /// </summary>
        JPY = 4,

        /// <summary>
        /// Enum CHF for value: CHF
        /// </summary>
        CHF = 5,

        /// <summary>
        /// Enum CAD for value: CAD
        /// </summary>
        CAD = 6,

        /// <summary>
        /// Enum AUD for value: AUD
        /// </summary>
        AUD = 7,

        /// <summary>
        /// Enum NZD for value: NZD
        /// </summary>
        NZD = 8,

        /// <summary>
        /// Enum CNY for value: CNY
        /// </summary>
        CNY = 9,

        /// <summary>
        /// Enum HKD for value: HKD
        /// </summary>
        HKD = 10,

        /// <summary>
        /// Enum SGD for value: SGD
        /// </summary>
        SGD = 11,

        /// <summary>
        /// Enum DKK for value: DKK
        /// </summary>
        DKK = 12,

        /// <summary>
        /// Enum SEK for value: SEK
        /// </summary>
        SEK = 13,

        /// <summary>
        /// Enum NOK for value: NOK
        /// </summary>
        NOK = 14,

        /// <summary>
        /// Enum PLN for value: PLN
        /// </summary>
        PLN = 15,

        /// <summary>
        /// Enum CZK for value: CZK
        /// </summary>
        CZK = 16,

        /// <summary>
        /// Enum HUF for value: HUF
        /// </summary>
        HUF = 17,

        /// <summary>
        /// Enum RON for value: RON
        /// </summary>
        RON = 18,

        /// <summary>
        /// Enum BGN for value: BGN
        /// </summary>
        BGN = 19,

        /// <summary>
        /// Enum HRK for value: HRK
        /// </summary>
        HRK = 20,

        /// <summary>
        /// Enum ISK for value: ISK
        /// </summary>
        ISK = 21,

        /// <summary>
        /// Enum RSD for value: RSD
        /// </summary>
        RSD = 22,

        /// <summary>
        /// Enum RUB for value: RUB
        /// </summary>
        RUB = 23,

        /// <summary>
        /// Enum UAH for value: UAH
        /// </summary>
        UAH = 24,

        /// <summary>
        /// Enum TRY for value: TRY
        /// </summary>
        TRY = 25,

        /// <summary>
        /// Enum MXN for value: MXN
        /// </summary>
        MXN = 26,

        /// <summary>
        /// Enum BRL for value: BRL
        /// </summary>
        BRL = 27,

        /// <summary>
        /// Enum ARS for value: ARS
        /// </summary>
        ARS = 28,

        /// <summary>
        /// Enum CLP for value: CLP
        /// </summary>
        CLP = 29,

        /// <summary>
        /// Enum COP for value: COP
        /// </summary>
        COP = 30,

        /// <summary>
        /// Enum PEN for value: PEN
        /// </summary>
        PEN = 31,

        /// <summary>
        /// Enum INR for value: INR
        /// </summary>
        INR = 32,

        /// <summary>
        /// Enum KRW for value: KRW
        /// </summary>
        KRW = 33,

        /// <summary>
        /// Enum TWD for value: TWD
        /// </summary>
        TWD = 34,

        /// <summary>
        /// Enum THB for value: THB
        /// </summary>
        THB = 35,

        /// <summary>
        /// Enum MYR for value: MYR
        /// </summary>
        MYR = 36,

        /// <summary>
        /// Enum IDR for value: IDR
        /// </summary>
        IDR = 37,

        /// <summary>
        /// Enum PHP for value: PHP
        /// </summary>
        PHP = 38,

        /// <summary>
        /// Enum VND for value: VND
        /// </summary>
        VND = 39,

        /// <summary>
        /// Enum AED for value: AED
        /// </summary>
        AED = 40,

        /// <summary>
        /// Enum SAR for value: SAR
        /// </summary>
        SAR = 41,

        /// <summary>
        /// Enum ILS for value: ILS
        /// </summary>
        ILS = 42,

        /// <summary>
        /// Enum ZAR for value: ZAR
        /// </summary>
        ZAR = 43,

        /// <summary>
        /// Enum EGP for value: EGP
        /// </summary>
        EGP = 44,

        /// <summary>
        /// Enum MAD for value: MAD
        /// </summary>
        MAD = 45,

        /// <summary>
        /// Enum TND for value: TND
        /// </summary>
        TND = 46,

        /// <summary>
        /// Enum DZD for value: DZD
        /// </summary>
        DZD = 47,

        /// <summary>
        /// Enum NGN for value: NGN
        /// </summary>
        NGN = 48,

        /// <summary>
        /// Enum KES for value: KES
        /// </summary>
        KES = 49,

        /// <summary>
        /// Enum XPF for value: XPF
        /// </summary>
        XPF = 50,

        /// <summary>
        /// Enum XAF for value: XAF
        /// </summary>
        XAF = 51,

        /// <summary>
        /// Enum XOF for value: XOF
        /// </summary>
        XOF = 52,

        /// <summary>
        /// Enum XDR for value: XDR
        /// </summary>
        XDR = 53
    }

    /// <summary>
    /// Converts <see cref="CurrencyCode"/> to and from the JSON value
    /// </summary>
    public static class CurrencyCodeValueConverter
    {
        /// <summary>
        /// Parses a given value to <see cref="CurrencyCode"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static CurrencyCode FromString(string value)
        {
            if (value.Equals("EUR"))
                return CurrencyCode.EUR;

            if (value.Equals("USD"))
                return CurrencyCode.USD;

            if (value.Equals("GBP"))
                return CurrencyCode.GBP;

            if (value.Equals("JPY"))
                return CurrencyCode.JPY;

            if (value.Equals("CHF"))
                return CurrencyCode.CHF;

            if (value.Equals("CAD"))
                return CurrencyCode.CAD;

            if (value.Equals("AUD"))
                return CurrencyCode.AUD;

            if (value.Equals("NZD"))
                return CurrencyCode.NZD;

            if (value.Equals("CNY"))
                return CurrencyCode.CNY;

            if (value.Equals("HKD"))
                return CurrencyCode.HKD;

            if (value.Equals("SGD"))
                return CurrencyCode.SGD;

            if (value.Equals("DKK"))
                return CurrencyCode.DKK;

            if (value.Equals("SEK"))
                return CurrencyCode.SEK;

            if (value.Equals("NOK"))
                return CurrencyCode.NOK;

            if (value.Equals("PLN"))
                return CurrencyCode.PLN;

            if (value.Equals("CZK"))
                return CurrencyCode.CZK;

            if (value.Equals("HUF"))
                return CurrencyCode.HUF;

            if (value.Equals("RON"))
                return CurrencyCode.RON;

            if (value.Equals("BGN"))
                return CurrencyCode.BGN;

            if (value.Equals("HRK"))
                return CurrencyCode.HRK;

            if (value.Equals("ISK"))
                return CurrencyCode.ISK;

            if (value.Equals("RSD"))
                return CurrencyCode.RSD;

            if (value.Equals("RUB"))
                return CurrencyCode.RUB;

            if (value.Equals("UAH"))
                return CurrencyCode.UAH;

            if (value.Equals("TRY"))
                return CurrencyCode.TRY;

            if (value.Equals("MXN"))
                return CurrencyCode.MXN;

            if (value.Equals("BRL"))
                return CurrencyCode.BRL;

            if (value.Equals("ARS"))
                return CurrencyCode.ARS;

            if (value.Equals("CLP"))
                return CurrencyCode.CLP;

            if (value.Equals("COP"))
                return CurrencyCode.COP;

            if (value.Equals("PEN"))
                return CurrencyCode.PEN;

            if (value.Equals("INR"))
                return CurrencyCode.INR;

            if (value.Equals("KRW"))
                return CurrencyCode.KRW;

            if (value.Equals("TWD"))
                return CurrencyCode.TWD;

            if (value.Equals("THB"))
                return CurrencyCode.THB;

            if (value.Equals("MYR"))
                return CurrencyCode.MYR;

            if (value.Equals("IDR"))
                return CurrencyCode.IDR;

            if (value.Equals("PHP"))
                return CurrencyCode.PHP;

            if (value.Equals("VND"))
                return CurrencyCode.VND;

            if (value.Equals("AED"))
                return CurrencyCode.AED;

            if (value.Equals("SAR"))
                return CurrencyCode.SAR;

            if (value.Equals("ILS"))
                return CurrencyCode.ILS;

            if (value.Equals("ZAR"))
                return CurrencyCode.ZAR;

            if (value.Equals("EGP"))
                return CurrencyCode.EGP;

            if (value.Equals("MAD"))
                return CurrencyCode.MAD;

            if (value.Equals("TND"))
                return CurrencyCode.TND;

            if (value.Equals("DZD"))
                return CurrencyCode.DZD;

            if (value.Equals("NGN"))
                return CurrencyCode.NGN;

            if (value.Equals("KES"))
                return CurrencyCode.KES;

            if (value.Equals("XPF"))
                return CurrencyCode.XPF;

            if (value.Equals("XAF"))
                return CurrencyCode.XAF;

            if (value.Equals("XOF"))
                return CurrencyCode.XOF;

            if (value.Equals("XDR"))
                return CurrencyCode.XDR;

            throw new NotImplementedException($"Could not convert value to type CurrencyCode: '{value}'");
        }

        /// <summary>
        /// Parses a given value to <see cref="CurrencyCode"/>
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        public static CurrencyCode? FromStringOrDefault(string value)
        {
            if (value.Equals("EUR"))
                return CurrencyCode.EUR;

            if (value.Equals("USD"))
                return CurrencyCode.USD;

            if (value.Equals("GBP"))
                return CurrencyCode.GBP;

            if (value.Equals("JPY"))
                return CurrencyCode.JPY;

            if (value.Equals("CHF"))
                return CurrencyCode.CHF;

            if (value.Equals("CAD"))
                return CurrencyCode.CAD;

            if (value.Equals("AUD"))
                return CurrencyCode.AUD;

            if (value.Equals("NZD"))
                return CurrencyCode.NZD;

            if (value.Equals("CNY"))
                return CurrencyCode.CNY;

            if (value.Equals("HKD"))
                return CurrencyCode.HKD;

            if (value.Equals("SGD"))
                return CurrencyCode.SGD;

            if (value.Equals("DKK"))
                return CurrencyCode.DKK;

            if (value.Equals("SEK"))
                return CurrencyCode.SEK;

            if (value.Equals("NOK"))
                return CurrencyCode.NOK;

            if (value.Equals("PLN"))
                return CurrencyCode.PLN;

            if (value.Equals("CZK"))
                return CurrencyCode.CZK;

            if (value.Equals("HUF"))
                return CurrencyCode.HUF;

            if (value.Equals("RON"))
                return CurrencyCode.RON;

            if (value.Equals("BGN"))
                return CurrencyCode.BGN;

            if (value.Equals("HRK"))
                return CurrencyCode.HRK;

            if (value.Equals("ISK"))
                return CurrencyCode.ISK;

            if (value.Equals("RSD"))
                return CurrencyCode.RSD;

            if (value.Equals("RUB"))
                return CurrencyCode.RUB;

            if (value.Equals("UAH"))
                return CurrencyCode.UAH;

            if (value.Equals("TRY"))
                return CurrencyCode.TRY;

            if (value.Equals("MXN"))
                return CurrencyCode.MXN;

            if (value.Equals("BRL"))
                return CurrencyCode.BRL;

            if (value.Equals("ARS"))
                return CurrencyCode.ARS;

            if (value.Equals("CLP"))
                return CurrencyCode.CLP;

            if (value.Equals("COP"))
                return CurrencyCode.COP;

            if (value.Equals("PEN"))
                return CurrencyCode.PEN;

            if (value.Equals("INR"))
                return CurrencyCode.INR;

            if (value.Equals("KRW"))
                return CurrencyCode.KRW;

            if (value.Equals("TWD"))
                return CurrencyCode.TWD;

            if (value.Equals("THB"))
                return CurrencyCode.THB;

            if (value.Equals("MYR"))
                return CurrencyCode.MYR;

            if (value.Equals("IDR"))
                return CurrencyCode.IDR;

            if (value.Equals("PHP"))
                return CurrencyCode.PHP;

            if (value.Equals("VND"))
                return CurrencyCode.VND;

            if (value.Equals("AED"))
                return CurrencyCode.AED;

            if (value.Equals("SAR"))
                return CurrencyCode.SAR;

            if (value.Equals("ILS"))
                return CurrencyCode.ILS;

            if (value.Equals("ZAR"))
                return CurrencyCode.ZAR;

            if (value.Equals("EGP"))
                return CurrencyCode.EGP;

            if (value.Equals("MAD"))
                return CurrencyCode.MAD;

            if (value.Equals("TND"))
                return CurrencyCode.TND;

            if (value.Equals("DZD"))
                return CurrencyCode.DZD;

            if (value.Equals("NGN"))
                return CurrencyCode.NGN;

            if (value.Equals("KES"))
                return CurrencyCode.KES;

            if (value.Equals("XPF"))
                return CurrencyCode.XPF;

            if (value.Equals("XAF"))
                return CurrencyCode.XAF;

            if (value.Equals("XOF"))
                return CurrencyCode.XOF;

            if (value.Equals("XDR"))
                return CurrencyCode.XDR;

            return null;
        }

        /// <summary>
        /// Converts the <see cref="CurrencyCode"/> to the json value
        /// </summary>
        /// <param name="value"></param>
        /// <returns></returns>
        /// <exception cref="NotImplementedException"></exception>
        public static string ToJsonValue(CurrencyCode value)
        {
            if (value == CurrencyCode.EUR)
                return "EUR";

            if (value == CurrencyCode.USD)
                return "USD";

            if (value == CurrencyCode.GBP)
                return "GBP";

            if (value == CurrencyCode.JPY)
                return "JPY";

            if (value == CurrencyCode.CHF)
                return "CHF";

            if (value == CurrencyCode.CAD)
                return "CAD";

            if (value == CurrencyCode.AUD)
                return "AUD";

            if (value == CurrencyCode.NZD)
                return "NZD";

            if (value == CurrencyCode.CNY)
                return "CNY";

            if (value == CurrencyCode.HKD)
                return "HKD";

            if (value == CurrencyCode.SGD)
                return "SGD";

            if (value == CurrencyCode.DKK)
                return "DKK";

            if (value == CurrencyCode.SEK)
                return "SEK";

            if (value == CurrencyCode.NOK)
                return "NOK";

            if (value == CurrencyCode.PLN)
                return "PLN";

            if (value == CurrencyCode.CZK)
                return "CZK";

            if (value == CurrencyCode.HUF)
                return "HUF";

            if (value == CurrencyCode.RON)
                return "RON";

            if (value == CurrencyCode.BGN)
                return "BGN";

            if (value == CurrencyCode.HRK)
                return "HRK";

            if (value == CurrencyCode.ISK)
                return "ISK";

            if (value == CurrencyCode.RSD)
                return "RSD";

            if (value == CurrencyCode.RUB)
                return "RUB";

            if (value == CurrencyCode.UAH)
                return "UAH";

            if (value == CurrencyCode.TRY)
                return "TRY";

            if (value == CurrencyCode.MXN)
                return "MXN";

            if (value == CurrencyCode.BRL)
                return "BRL";

            if (value == CurrencyCode.ARS)
                return "ARS";

            if (value == CurrencyCode.CLP)
                return "CLP";

            if (value == CurrencyCode.COP)
                return "COP";

            if (value == CurrencyCode.PEN)
                return "PEN";

            if (value == CurrencyCode.INR)
                return "INR";

            if (value == CurrencyCode.KRW)
                return "KRW";

            if (value == CurrencyCode.TWD)
                return "TWD";

            if (value == CurrencyCode.THB)
                return "THB";

            if (value == CurrencyCode.MYR)
                return "MYR";

            if (value == CurrencyCode.IDR)
                return "IDR";

            if (value == CurrencyCode.PHP)
                return "PHP";

            if (value == CurrencyCode.VND)
                return "VND";

            if (value == CurrencyCode.AED)
                return "AED";

            if (value == CurrencyCode.SAR)
                return "SAR";

            if (value == CurrencyCode.ILS)
                return "ILS";

            if (value == CurrencyCode.ZAR)
                return "ZAR";

            if (value == CurrencyCode.EGP)
                return "EGP";

            if (value == CurrencyCode.MAD)
                return "MAD";

            if (value == CurrencyCode.TND)
                return "TND";

            if (value == CurrencyCode.DZD)
                return "DZD";

            if (value == CurrencyCode.NGN)
                return "NGN";

            if (value == CurrencyCode.KES)
                return "KES";

            if (value == CurrencyCode.XPF)
                return "XPF";

            if (value == CurrencyCode.XAF)
                return "XAF";

            if (value == CurrencyCode.XOF)
                return "XOF";

            if (value == CurrencyCode.XDR)
                return "XDR";

            throw new NotImplementedException($"Value could not be handled: '{value}'");
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="CurrencyCode"/>
    /// </summary>
    /// <exception cref="NotImplementedException"></exception>
    public class CurrencyCodeJsonConverter : JsonConverter<CurrencyCode>
    {
        /// <summary>
        /// Returns a  from the Json object
        /// </summary>
        /// <param name="reader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="options"></param>
        /// <returns></returns>
        public override CurrencyCode Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options)
        {
            string? rawValue = reader.GetString();

            CurrencyCode? result = rawValue == null
                ? null
                : CurrencyCodeValueConverter.FromStringOrDefault(rawValue);

            if (result != null)
                return result.Value;

            throw new JsonException();
        }

        /// <summary>
        /// Writes the CurrencyCode to the json writer
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="currencyCode"></param>
        /// <param name="options"></param>
        public override void Write(Utf8JsonWriter writer, CurrencyCode currencyCode, JsonSerializerOptions options)
        {
            writer.WriteStringValue(CurrencyCodeValueConverter.ToJsonValue(currencyCode).ToString());
        }
    }

    /// <summary>
    /// A Json converter for type <see cref="CurrencyCode"/>
    /// </summary>
    public class CurrencyCodeNullableJsonConverter : JsonConverter<CurrencyCode?>
    {
        /// <summary>
        /// Returns a CurrencyCode from the Json object
        /// </summary>
        /// <param name="reader"></param>
        /// <param name="typeToConvert"></param>
        /// <param name="options"></param>
        /// <returns></returns>
        public override CurrencyCode? Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options)
        {
            string? rawValue = reader.GetString();

            CurrencyCode? result = rawValue == null
                ? null
                : CurrencyCodeValueConverter.FromStringOrDefault(rawValue);

            if (result != null)
                return result.Value;

            throw new JsonException();
        }

        /// <summary>
        /// Writes the CurrencyCode to the json writer
        /// </summary>
        /// <param name="writer"></param>
        /// <param name="currencyCode"></param>
        /// <param name="options"></param>
        public override void Write(Utf8JsonWriter writer, CurrencyCode? currencyCode, JsonSerializerOptions options)
        {
            writer.WriteStringValue(currencyCode.HasValue ? CurrencyCodeValueConverter.ToJsonValue(currencyCode.Value).ToString() : "null");
        }
    }
}
